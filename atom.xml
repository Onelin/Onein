<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Onein</title>
  <subtitle>一个始终相信自己代码一定有bug的小菜</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://onelin.github.io/"/>
  <updated>2016-10-13T03:24:02.000Z</updated>
  <id>https://onelin.github.io/</id>
  
  <author>
    <name>Onein</name>
    <email>bigfacemail@gmail.com</email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>UICollecionview实现日历的横向滚动</title>
    <link href="https://onelin.github.io/2016/10/12/UICollecionview%E5%AE%9E%E7%8E%B0%E6%97%A5%E5%8E%86%E7%9A%84%E6%A8%AA%E5%90%91%E6%BB%9A%E5%8A%A8/"/>
    <id>https://onelin.github.io/2016/10/12/UICollecionview实现日历的横向滚动/</id>
    <published>2016-10-12T04:23:08.000Z</published>
    <updated>2016-10-13T03:24:02.000Z</updated>
    
    <content type="html"><![CDATA[<h4 id="公司有需求-说要做个横向滚动的日期-当时一想觉的很简单-改一下滚动方向就行了吧-可是-当改了后才发现-呵呵呵呵呵呵呵呵呵…"><a href="#公司有需求-说要做个横向滚动的日期-当时一想觉的很简单-改一下滚动方向就行了吧-可是-当改了后才发现-呵呵呵呵呵呵呵呵呵…" class="headerlink" title="公司有需求,说要做个横向滚动的日期.当时一想觉的很简单,改一下滚动方向就行了吧.可是,当改了后才发现,呵呵呵呵呵呵呵呵呵…"></a>公司有需求,说要做个横向滚动的日期.当时一想觉的很简单,改一下滚动方向就行了吧.可是,当改了后才发现,呵呵呵呵呵呵呵呵呵…</h4><a id="more"></a>
<p>如图:<br><img src="http://oexbbzwod.bkt.clouddn.com/CalendarViewDemo.jpeg" alt="系统默认的排列顺序">  </p>
<h4 id="上图就是当你将-scrollDirection-改成-Horizontal-后得到的结果-当看到这个后-心里有一万头草尼玛飞驰而过-看来就只能自定义layout了"><a href="#上图就是当你将-scrollDirection-改成-Horizontal-后得到的结果-当看到这个后-心里有一万头草尼玛飞驰而过-看来就只能自定义layout了" class="headerlink" title="上图就是当你将 scrollDirection 改成 Horizontal 后得到的结果.当看到这个后,心里有一万头草尼玛飞驰而过,看来就只能自定义layout了."></a>上图就是当你将 scrollDirection 改成 Horizontal 后得到的结果.当看到这个后,心里有一万头草尼玛飞驰而过,看来就只能自定义layout了.</h4><p><img src="http://oexbbzwod.bkt.clouddn.com/SystemCalenarLayout.jpg" alt="系统默认的排列顺序"></p>
<h4 id="上图就是改变-scrollDirection后系统给item排列的顺序"><a href="#上图就是改变-scrollDirection后系统给item排列的顺序" class="headerlink" title="上图就是改变 scrollDirection后系统给item排列的顺序."></a>上图就是改变 scrollDirection后系统给item排列的顺序.</h4><h4 id="说白了其实就是重新排列一下每个item的frame就可以了-但是自己写了半天也没搞定…于是找了各大网站-终于找到了…"><a href="#说白了其实就是重新排列一下每个item的frame就可以了-但是自己写了半天也没搞定…于是找了各大网站-终于找到了…" class="headerlink" title="说白了其实就是重新排列一下每个item的frame就可以了,但是自己写了半天也没搞定…于是找了各大网站,终于找到了…"></a>说白了其实就是重新排列一下每个item的frame就可以了,但是自己写了半天也没搞定…于是找了各大网站,终于找到了…</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line">- (void)applyLayoutAttributes:(UICollectionViewLayoutAttributes *)attributes</div><div class="line">&#123;</div><div class="line"></div><div class="line">   if(attributes.representedElementKind != nil)</div><div class="line">   &#123;</div><div class="line">	return;</div><div class="line">   &#125;</div><div class="line">    </div><div class="line">    CGFloat stride = (self.scrollDirection == UICollectionViewScrollDirectionHorizontal) ? self.collectionView.frame.size.width : self.collectionView.frame.size.height;</div><div class="line">    </div><div class="line">    CGFloat offset = (attributes.indexPath.section) * stride;</div><div class="line">    </div><div class="line">    CGFloat xCellOffset = (attributes.indexPath.item % 7) * self.itemSize.width;</div><div class="line">    </div><div class="line">    CGFloat yCellOffset = (attributes.indexPath.item / 7) * self.itemSize.height;</div><div class="line">    </div><div class="line">    if(self.scrollDirection == UICollectionViewScrollDirectionHorizontal) &#123;</div><div class="line">        xCellOffset += offset;</div><div class="line">    &#125; else &#123;</div><div class="line">        yCellOffset += offset;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    attributes.frame = CGRectMake(xCellOffset, yCellOffset, self.itemSize.width, self.itemSize.height);</div><div class="line">&#125;</div><div class="line">		</div><div class="line">- (UICollectionViewLayoutAttributes *)layoutAttributesForItemAtIndexPath:(NSIndexPath *)indexPath</div><div class="line">&#123;</div><div class="line">    UICollectionViewLayoutAttributes *attr = [super layoutAttributesForItemAtIndexPath:indexPath].copy;</div><div class="line">    [self applyLayoutAttributes:attr];</div><div class="line">    return attr;</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (NSArray&lt;UICollectionViewLayoutAttributes *&gt; *)layoutAttributesForElementsInRect:(CGRect)rect</div><div class="line">&#123;</div><div class="line">    NSArray *attributes = [super layoutAttributesForElementsInRect:rect].copy;</div><div class="line">    for (UICollectionViewLayoutAttributes *attr in attributes) </div><div class="line">    &#123;</div><div class="line">       [self applyLayoutAttributes:attr];</div><div class="line">    &#125;</div><div class="line">    return attributes;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="上面三个方法就是layout中最后要的方法了-看各位大大的需求-你们需要怎么引用-到项目中改进"><a href="#上面三个方法就是layout中最后要的方法了-看各位大大的需求-你们需要怎么引用-到项目中改进" class="headerlink" title="上面三个方法就是layout中最后要的方法了.看各位大大的需求,你们需要怎么引用 到项目中改进"></a>上面三个方法就是layout中最后要的方法了.看各位大大的需求,你们需要怎么引用 到项目中改进</h4><h4 id="好了-我没啥可说的了…最后说下我在这个中遇到的问题-如下图"><a href="#好了-我没啥可说的了…最后说下我在这个中遇到的问题-如下图" class="headerlink" title="好了,我没啥可说的了…最后说下我在这个中遇到的问题,如下图:"></a>好了,我没啥可说的了…最后说下我在这个中遇到的问题,如下图:</h4><p><img src="http://oexbbzwod.bkt.clouddn.com/CalenarViewBug.gif" alt="有bug的排列">  </p>
<h4 id="如图所示-显示的日期中-会出现空白的导致显示不全的日期-起初一直定位在NSArray-attributes-super-layoutAttributesForElementsInRect-rect-copy-这行代码中的rect上-一直以为是rect中的width不够导致没有渲染完成-后来绞尽脑汁才发现-其实是和每个item的大小有关系-于是尝试着改变了计算ItemSize的方法"><a href="#如图所示-显示的日期中-会出现空白的导致显示不全的日期-起初一直定位在NSArray-attributes-super-layoutAttributesForElementsInRect-rect-copy-这行代码中的rect上-一直以为是rect中的width不够导致没有渲染完成-后来绞尽脑汁才发现-其实是和每个item的大小有关系-于是尝试着改变了计算ItemSize的方法" class="headerlink" title="如图所示,显示的日期中,会出现空白的导致显示不全的日期.起初一直定位在NSArray *attributes = [super layoutAttributesForElementsInRect:rect].copy;这行代码中的rect上,一直以为是rect中的width不够导致没有渲染完成.后来绞尽脑汁才发现,其实是和每个item的大小有关系.于是尝试着改变了计算ItemSize的方法:"></a>如图所示,显示的日期中,会出现空白的导致显示不全的日期.起初一直定位在NSArray *attributes = [super layoutAttributesForElementsInRect:rect].copy;这行代码中的rect上,一直以为是rect中的width不够导致没有渲染完成.后来绞尽脑汁才发现,其实是和每个item的大小有关系.于是尝试着改变了计算ItemSize的方法:</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">CGFloat itemWidth = self.width / 7.0f;</div><div class="line">CGFloat itemHeight = self.height / 6.0f;</div><div class="line">horizontalLayout.itemSize = CGSizeMake(itemWidth, itemHeight);</div></pre></td></tr></table></figure>
<h4 id="原来写法是"><a href="#原来写法是" class="headerlink" title="原来写法是:"></a>原来写法是:</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">CGFloat itemWidth = self.width / 7.0f;</div><div class="line">horizontalLayout.itemSize = CGSizeMake(itemWidth, itemWidth);</div></pre></td></tr></table></figure>
<h4 id="最后-技术水平有限-写作能力也有限-就先写到这了-希望看到的大大们谅解-必竟真的轮到自己来写的话真是不容易-有什么问题请留言-谢谢能看到这篇博客的猿们"><a href="#最后-技术水平有限-写作能力也有限-就先写到这了-希望看到的大大们谅解-必竟真的轮到自己来写的话真是不容易-有什么问题请留言-谢谢能看到这篇博客的猿们" class="headerlink" title="最后:技术水平有限,写作能力也有限,就先写到这了.希望看到的大大们谅解,必竟真的轮到自己来写的话真是不容易.有什么问题请留言,谢谢能看到这篇博客的猿们~~~"></a>最后:技术水平有限,写作能力也有限,就先写到这了.希望看到的大大们谅解,必竟真的轮到自己来写的话真是不容易.有什么问题请留言,谢谢能看到这篇博客的猿们~~~</h4><h3 id="参考博客"><a href="#参考博客" class="headerlink" title="参考博客"></a>参考博客</h3><p><a href="http://blog.karmadust.com/lets-create-a-calendar-using-a-uicollectionview/" target="_blank" rel="external">karmadust的博客</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;公司有需求-说要做个横向滚动的日期-当时一想觉的很简单-改一下滚动方向就行了吧-可是-当改了后才发现-呵呵呵呵呵呵呵呵呵…&quot;&gt;&lt;a href=&quot;#公司有需求-说要做个横向滚动的日期-当时一想觉的很简单-改一下滚动方向就行了吧-可是-当改了后才发现-呵呵呵呵呵呵呵呵呵…&quot; class=&quot;headerlink&quot; title=&quot;公司有需求,说要做个横向滚动的日期.当时一想觉的很简单,改一下滚动方向就行了吧.可是,当改了后才发现,呵呵呵呵呵呵呵呵呵…&quot;&gt;&lt;/a&gt;公司有需求,说要做个横向滚动的日期.当时一想觉的很简单,改一下滚动方向就行了吧.可是,当改了后才发现,呵呵呵呵呵呵呵呵呵…&lt;/h4&gt;
    
    </summary>
    
      <category term="iOS" scheme="https://onelin.github.io/categories/iOS/"/>
    
    
      <category term="iOS" scheme="https://onelin.github.io/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>安装hexo遇到的一些问题</title>
    <link href="https://onelin.github.io/2016/09/25/index/"/>
    <id>https://onelin.github.io/2016/09/25/index/</id>
    <published>2016-09-25T11:10:33.000Z</published>
    <updated>2016-10-12T09:01:19.000Z</updated>
    
    <content type="html"><![CDATA[<h4 id="怎么安装网上的教程已经有好多了-我就不再这重复造轮子了-我在这就说一下我搭环境时候遇到的几个问题-装这个真是装的心都碎了-别人按归教程很顺利的就搭好了-我整整的搞了两天-在gitbub-Hexo上看到好多和我一样的问题-但没有一个是能解决我的…"><a href="#怎么安装网上的教程已经有好多了-我就不再这重复造轮子了-我在这就说一下我搭环境时候遇到的几个问题-装这个真是装的心都碎了-别人按归教程很顺利的就搭好了-我整整的搞了两天-在gitbub-Hexo上看到好多和我一样的问题-但没有一个是能解决我的…" class="headerlink" title="怎么安装网上的教程已经有好多了,我就不再这重复造轮子了,我在这就说一下我搭环境时候遇到的几个问题.装这个真是装的心都碎了,别人按归教程很顺利的就搭好了,我整整的搞了两天~~~在gitbub Hexo上看到好多和我一样的问题,但没有一个是能解决我的…"></a>怎么安装网上的教程已经有好多了,我就不再这重复造轮子了,我在这就说一下我搭环境时候遇到的几个问题.装这个真是装的心都碎了,别人按归教程很顺利的就搭好了,我整整的搞了两天~~~在gitbub Hexo上看到好多和我一样的问题,但没有一个是能解决我的…</h4><a id="more"></a>
<p>直接写正题.  </p>
<h3 id="1-command-not-found"><a href="#1-command-not-found" class="headerlink" title="1. command not found"></a>1. command not found</h3><p>按照简书上的一个教程 sudo npm install hexo-cli -g 使用这个官方推荐的命令安装完之后,hexo命令一直都是command not found.<br>先安装nvm，这是Nodejs版本管理器，可以轻松切换Nodejs版本。 这里有两种方式安装。如果使用curl的方式安装，安装完成之后一定要重启终端。</p>
<ol>
<li><p>Homebrew 安装方式，此安装方式无需重启<br>$ brew install nvm<br>$ mkdir ~/.nvm<br>$ export NVM_DIR=~/.nvm<br>$ . $(brew –prefix nvm)/nvm.sh</p>
</li>
<li><p>curl安装方式<br>$ curl <a href="https://raw.github.com/creationix/nvm/master/install.sh" target="_blank" rel="external">https://raw.github.com/creationix/nvm/master/install.sh</a> | sh</p>
</li>
</ol>
<p>安装完成后，重启终端 并执行下列命令即可安装 Node.js。</p>
<p>$ nvm install 4 (4是版本号)</p>
<p>然后再安装hexo<br>以上所有都安装完成之后再安装Hexo</p>
<p>$ sudo npm install hexo-cli -g      </p>
<h3 id="2-装完以上这些后-重启Terminal后可能会-这个有可能不会发生-因为看好多人的教程都装的很顺利-又发现hexo不能用了-再次提示command-not-found-利用nvm-再次install会发现nvm也提示nvm-command-not-found-那么你需要再次执行上面的-brew-install-nvm了"><a href="#2-装完以上这些后-重启Terminal后可能会-这个有可能不会发生-因为看好多人的教程都装的很顺利-又发现hexo不能用了-再次提示command-not-found-利用nvm-再次install会发现nvm也提示nvm-command-not-found-那么你需要再次执行上面的-brew-install-nvm了" class="headerlink" title="2. 装完以上这些后,重启Terminal后可能会(这个有可能不会发生,因为看好多人的教程都装的很顺利)又发现hexo不能用了,再次提示command not found,利用nvm 再次install会发现nvm也提示nvm command not found. 那么你需要再次执行上面的 brew install nvm了~"></a>2. 装完以上这些后,重启Terminal后可能会(这个有可能不会发生,因为看好多人的教程都装的很顺利)又发现hexo不能用了,再次提示command not found,利用nvm 再次install会发现nvm也提示nvm command not found. 那么你需要再次执行上面的 brew install nvm了~</h3><p>1.nvm ls 查看node.js版本<br>如下所示:<br><img src="http://7wy3vb.com1.z0.glb.clouddn.com/static/images/hexo_nodejs_1.png" alt="未指定default"></p>
<p>如果这里出现nvm command not found的提示,那么打开你的.profile或.bash_profile文件,检查一下有没有下面这两句话:</p>
<ol>
<li>export NVM_DIR=”/Users/yourUsername/.nvm”</li>
<li>[ -s “$NVM_DIR/nvm.sh” ] &amp;&amp; . “$NVM_DIR/nvm.sh”  # This loads nvm</li>
</ol>
<p>没有就加上,记得将yourUsername替换成你自己的用户名</p>
<p>在结果中可以看到你的node.js的版本号,如我的是4.2.3.然后执行以下命令:  </p>
<p>nvm use 4.2.3 #将4.2.3替换为你的版本号</p>
<p>执行完之后运行一下node命令,应该就能用了.但这样是不够的,重启终端之后需要重新设置,因此我们要为nvm设置一下默认的使用版本.使用以下命令:<br>nvm alias default 4.2.3 #对应以上结果中的版本号<br>注意,一定要先执行use命令,以上命令才会生效,这也是我参考的文章中没写清楚的地方,当时卡在这好久,因为我use之后重启了终端,导致上面命令执行不成功.  </p>
<p>设置完之后再输入nvm ls,结果如下:</p>
<p><img src="http://7wy3vb.com1.z0.glb.clouddn.com/static/images/hexo_nodejs_2.png" alt="已指定default"></p>
<p>如果有那行绿色的版本号,就表示设置成功了.<br>现在再运行node,npm和hexo命令试一下,应该就都正常了.</p>
<h3 id="参考博客"><a href="#参考博客" class="headerlink" title="参考博客"></a>参考博客</h3><p><a href="http://yinshudi.com/2015/12/22/Hexo%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B%E4%B8%ADNode.js%E7%9A%84%E7%8E%AF%E5%A2%83%E9%97%AE%E9%A2%98/" target="_blank" rel="external">尹述迪的博客</a><br><a href="http://www.jianshu.com/p/4eaddcbe4d12" target="_blank" rel="external">dimsky的简书</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;怎么安装网上的教程已经有好多了-我就不再这重复造轮子了-我在这就说一下我搭环境时候遇到的几个问题-装这个真是装的心都碎了-别人按归教程很顺利的就搭好了-我整整的搞了两天-在gitbub-Hexo上看到好多和我一样的问题-但没有一个是能解决我的…&quot;&gt;&lt;a href=&quot;#怎么安装网上的教程已经有好多了-我就不再这重复造轮子了-我在这就说一下我搭环境时候遇到的几个问题-装这个真是装的心都碎了-别人按归教程很顺利的就搭好了-我整整的搞了两天-在gitbub-Hexo上看到好多和我一样的问题-但没有一个是能解决我的…&quot; class=&quot;headerlink&quot; title=&quot;怎么安装网上的教程已经有好多了,我就不再这重复造轮子了,我在这就说一下我搭环境时候遇到的几个问题.装这个真是装的心都碎了,别人按归教程很顺利的就搭好了,我整整的搞了两天~~~在gitbub Hexo上看到好多和我一样的问题,但没有一个是能解决我的…&quot;&gt;&lt;/a&gt;怎么安装网上的教程已经有好多了,我就不再这重复造轮子了,我在这就说一下我搭环境时候遇到的几个问题.装这个真是装的心都碎了,别人按归教程很顺利的就搭好了,我整整的搞了两天~~~在gitbub Hexo上看到好多和我一样的问题,但没有一个是能解决我的…&lt;/h4&gt;
    
    </summary>
    
      <category term="hexo" scheme="https://onelin.github.io/categories/hexo/"/>
    
    
      <category term="hexo" scheme="https://onelin.github.io/tags/hexo/"/>
    
  </entry>
  
</feed>
